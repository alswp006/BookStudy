# 심각한 다형성
## 인터페이스
- 인터페이스는 100%추상 클래스이다.
- Animal animal = new Dog()는 되지만 Animal animal = new Animal()은 좀 이상하다
  - Animal클래스는 상속과 다형성을 위해 필요하긴 하지만 직접 객체를 생성하는 것은 원하지 않는다.
- 이런 상황에서 어떤 클래스의 인스턴스를 만들 수 없게 하는 방법이 추상 클래스이다.
### 추상 클래스
- 인스턴스를 만들 수 없는 클래스이다.
- 특정 유형에 대해 new 키워드를 쓸 수 없게 하는 방법이다.
- 추상 클래스는 확장하지 않으면 쓸모도, 가치도, 삶의 목적도 없다.
- 추상클래스가 아닌 것을 구상 클래스라고 한다.
### 추상 메소드
- 클래스 뿐만 아니라 메소드에도 abstract를 지정해줄 수 있다.
- 추상 클래스는 반드시 확장해야하는 클래스를 의미한다면 추상 메소드는 반드시 오버라이드해야하는 메소드를 의미한다.
- 추상 메소드를 만들 때는 클래스도 반드시 추상 클래스로 만들어야 한다.
- 추상 클래스가 아닌 클래스에 추상 메소드를 집어넣을 수 없다.
- 상속에서 공통적인 메소드를 구현하여 하위 클래스에서 사용가능하게 한다는 장점은 없지만 다형성을 활용할 수 있다는 장점이 있다.
  - 추상 메소드는 다형성을 활용하기 위해 "이 유형에 속하는 모든 하위클래스 유형에는 이 메소드가 있어야한다."는 것을 지정하기 위해 필요한 것이다.
- 추상 메소드는 모두 구현해야 하기 때문에 이는 메소드를 오버라이드하는 것과 같다.
## Object 클래스
- 자바에서의 모든 클래스는 Object 클래스를 상속받는다. 즉, Object 클래스는 모든 클래스의 어머니이다.
- 명시적으로 다른 클래스를 확장하지 않은 클래스는 자동으로 Object를 확장한 클래스로 정의된다.
- Object 클래스에는 equals(Object o), hashcode(), getClass(), toString()등의 메소드가 있다.
- 스레드 동기화를 할 때 Object 객체를 많이 사용한다.(15장에서 자세히 배움)
### Object 유형의 다형적 레퍼런스를 쓸 때 치뤄야할 대가
- ArrayList<Object>에서 나오는 객체는 실제 객체의 유형이나 목록에 객체를 추가했을 때의 레퍼런스 유형하고는 상관없이 무조건 Object 유형의 레퍼런스로 나오게 된다.
  - public void go(){
      Dog dog = new Dog();
      Dog sameDog = getObject(dog);
    }
    public Object getObject(Object o) {
      return o;
    }
    - 이렇게 인자와 리턴타입를 Object로 선언하면 객체의 레퍼런스가 Object가 되어버린다.
    - 이와 같이 Object로 변해버린 객체는 Dog의 메소드를 호출하지 못한다.
- 컴파일러는 어떤 메소드를 호출할 수 있는지 결정할 때 실제 객체 유형이 아닌 레퍼런스 유형을 기준으로 따진다.
  - 위 같은 경우도 그렇고 Animal animal = new Dog()와 같은 경우도 이 객체는 Dog의 메소드를 사용할 수 없다.
### 객체 레퍼런스를 실제 유형으로 캐스트하는 방법
- Dog객체에만 있는 메소드를 호출하려면 Dog 유형으로 선언된 레퍼런스가 필요하다.
  Object o = al.get(index);
  Dog d = (Dog) o;
  d.eat();
### 인터페이스
- 모든 메소드를 추상 메소드로 만들어 하위 클래스에서 반드시 메소드를 구현하게 해준다. = 100% 순수한 추상 클래스 = 인터페이스
- 서로 다른 상속 트리에 속한 클래스에서도 같은 인터페이스를 구현할 수 있다.
- 한 클래스에서 인터페이스를 여러 개 구현할 수 있다.
### 어떤 클래스를 하위클래스로 만들지 추상 클래스로 만들지 인터페이스로 만들지 결정 방법!
- 어떤 클래스의 더 구체적인 버전을 만들고 오버라이드나 새로운 행동을 추가해야한다면 하위클래스를 만든다.
- 일련의 하위 클래스에서 사용할 틀을 정의하고 싶다면 그리고 하위클래스에서 사용할 구현코드가 조금이라도 있다면 추상 클래스 사용
- 그리고 그 유형의 객체를 절대 만들 수 없게 하고 싶다면 추상 클래스로 만든다.
- 상속 트리에서의 위치에 상관없이 어떤 클래스의 역할을 정의하고 싶다면 인터페이스를 사용한다.
