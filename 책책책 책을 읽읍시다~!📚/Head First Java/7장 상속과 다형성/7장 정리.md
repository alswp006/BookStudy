# 상속과 다형성
## 상속
- 한클래스가 다른 클래스를 상속하는 것을 하위클래스가 상위클래스로부터 상속받는다고 말한다.
- 자바에서는 하위 클래스가 상위 클래스를 확장한다고 얘기한다.
- 상속은 하위클래스가 상위클래스의 멤버(인스턴스 변수와 메소드)를 물려받는 것을 의미한다.
- 하위클래스에서 별도의 메소드와 인스턴스 변수를 추가할 수도 있고 상속받은 메소드를 오버라이드할 수도 있다.
  -> 하위 클래스에서 고유한 행동이 필요할 때
- 공통적으로 사용하는 멤버는 상위클래스에 생성하고 하위클래스 고유의 멤버는 하위클래스에 선언이나 오버라이딩한다.
- 유사한 메소드가 있는 클래스들끼리 또 묶어서 상속관계를 만들어 클래스 계층 구조를 만들 수도 있다.
- 하위 클래스에서 오버라이드한 메소드가 있지만 상위 메소드도 사용하고 싶을 때는 super.메소드명() 이라는 키워드로 사용한다.
### 상속 테스트
- 상속 관계인지를 테스트할 때는 "A는 B다" 테스트를 해본다.
  - 늑대는 동물이다 또는 늑대는 동물을 확장한다가 성립하면 늑대와 동물은 상속 관계이다.
### 상속의 주의점
- 객체 레퍼런스의 메소드를 호출하면 클래스 계층 구조의 가장 아래 있는 것이 호출된다.
- 상위 클래스에서 하위 클래스의 메소드를 사용할 수는 없다.
- public으로 지정한 멤버는 상속되고 private로 지정한 멤버는 상속되지 않는다.
**- 어떤 코드를 다른 클래스에서 재사용할 수 있다는 이유만으로 상속을 사용하면 안된다.**
  - "A는 B다" 관계가 성립하지 않는다면 상속을 사용하지 말자.
- public이 아닌 클래스를 상속받을 수 없다.
- final 클래스는 절대 확장할 수 없다.
  - 메소드도 마찬가지로 final을 선언해주면 오버라이드할 수 없다.
  - 메소드별로 오버라이드할 수 없게 만들고 싶다면 메소드에 final, 전체 메소드를 오버라이드할 수 없게 하고 싶다면 클래스를 final로 선언해주면 된다.
- 클래스의 생성자가 private로 지정된 클래스는 상속받을 수 없다.
### 상속의 장점
- 일련의 클래스에서 공통적으로 필요한 행동을 뽑아 상위클래스에 넣으면 **코드가 중복되는 것을 방지할 수 있다.**
- 상위 클래스만 고치면 하위클래스는 건드릴 필요없이 변경할 수 있다.
- 일련의 클래스를 위한 공통적인 규약을 정의한다.(7장에서 자세히 설명)
  - 상속을 사용하면 특정 상위클래스 밑에 있는 모든 클래스에 상위 클래스에 들어있는 모든 메소드가 들어가게 할 수 있다.
## 다형성
- 다형성을 활용하면 레퍼런스와 객체가 다른 유형이어도 된다.
  - Animal animal = new Dog();
- 다형성을 사용하면 레퍼런스 유형을 실제 객체 유형의 상위클래스 유형으로 지정할 수 있다.
  - 이렇게 하면 다형적인 배열을 만드는 일 등을 할 수 있다.
    - Animal[] animals = new Animal[3];
    - animals[0] = new Dog();
    - animals[1] = new Cat();
    - animals[2] = new Wolf();
- 인자와 리턴 유형에서도 다형성을 적용할 수 있다.
  - class Dog{
    public void eat(Animal a){
      a.eat();
      }
    }
  - 이와 같이 매개변수에 다형성을 적용하여 상위클래스 유형으로 선언하면 어떠한 하위클래스의 객체도 매개변수로 전달할 수 있다.
### 오버라이드 규칙 
- 인자는 같아야하고 리턴 유형은 호환 가능해야 한다.
  - 오버라이드하는 메소드에서는 같은 매개변수를 사용해야한다.
  - 리턴 유형은 같은 유형 또는 하위클래스의 유형을 리턴해야 한다.
- 메소드의 접근 단계는 유지하거나 완화해야한다.
  - public 메소드를 오버라이드하여 private 메소드로 만들면 안된다.
### 메소드 오버로딩
- 이름은 같고 매개변수 목록만 다른 메소드를 여러 개 만드는 것
- 오버로드된 메소드는 다형성과는 전혀 관계가 없다.
- 리턴 유형이 달라도 된다.
- 리턴 유형만 다르게 하면 안된다. (인자 목록이 무조건 달라야함)
- 접근 단계를 마음대로 바꿔도 된다.
